<script>
    // 1. 把你所有亂序的檔名填入這個清單中 (記得要加引號和逗號)
    const images = [
        "A01.jpg", 
        "flower.png", 
        "IMG_1234.jpeg",
        "籤詩1.jpg",
        "lucky_draw.png"
        // ... 請繼續把剩下的檔名補完
    ];

    document.getElementById('drawBtn').onclick = function() {
        const btn = this;
        const img = document.getElementById('result-image');
        const loading = document.getElementById('loading');
        const instructions = document.getElementById('instructions');
        
        btn.disabled = true;
        loading.style.display = 'block';

        // 2. 從清單中隨機抽出一個檔名
        const randomIndex = Math.floor(Math.random() * images.length);
        const selectedFileName = images[randomIndex];
        
        // 3. 組合完整路徑 (假設圖片都在 static/images/ 下)
        const imagePath = `static/images/${selectedFileName}`;

        // 預載圖片以確保流暢
        const tempImg = new Image();
        tempImg.src = imagePath;
        
        tempImg.onload = function() {
            instructions.style.display = 'none'; 
            loading.style.display = 'none';
            img.src = imagePath;
            img.style.display = 'block';
            btn.disabled = false;
            btn.innerText = '再次求籤';
        };

        tempImg.onerror = function() {
            alert("讀取失敗，請確認檔名是否正確：" + selectedFileName);
            loading.style.display = 'none';
            btn.disabled = false;
        };
    };
</script>
